# VS Chat

一个轻量级的 VS Code AI 聊天扩展，支持多种 LLM Provider，提供了简单易用的聊天界面和强大的上下文管理功能。

## 功能特点

- 全手动对话上下文管理，可以轻易开关
- 纯文本，低语法标记的聊天记录设计，随时可以修改
- 原生编辑器操作（复制、粘贴、查找、替换等一应俱全）
- 支持多种 LLM Provider（OpenAI、DeepSeek 等OpenAI api格式的）
- 安全的 API Key 管理
- 简单的自动化解析和操作（目前支持思维链））
- 块折叠、大纲视图
- MD语法高亮

## 安装要求

- VS Code 版本 1.99.0 或更高
- Node.js 14.0 或更高

## 扩展设置

此扩展提供以下设置：

* `vschat.api.profiles`: API 配置列表
* `vschat.api.activeProfileName`: 当前激活的 API 配置名称
* `vschat.llm.providers`: LLM providers 配置

## 使用指南

1. **创建或打开 `.chat` 文件**
2. **插入块**
   - 使用快捷键 `Ctrl+Alt+Enter` (Mac: `Cmd+Alt+Enter`) 或命令面板 (`F1`, 输入 "VSChat: 插入聊天块") 打开块类型选择菜单。
   - 选择要插入的块类型 (`U`=用户, `A`=助手, `S`=系统, `N`=注释)。
   - 块会自动包含必要的 ID。
   - **强烈建议使用此方法创建块，不要手动输入标签。**
3. **编写内容**: 在块标签内部编写你的对话内容或注释。
4. **管理块状态**: 
   - 使用 Ctrl+Alt+T 切换聊天块状态

5. **使用注释和思维链**
   - 注释块默认不会被发送到 AI 模型

6. **使用大纲视图**
   - 只有设置了标题的块会显示在大纲视图中
   - 使用 "VSChat: 设置块标题" 命令为任意块设置标题
   - 标题仅用于大纲导航，不会添加到内容中

7. **块操作菜单**
   - 将光标移动到块的首行，点击出现的小灯泡图标
   - 可以执行以下操作：
     - 切换块的激活状态（活动/非活动）
     - 设置块标题（用于大纲视图）
     - 一键复制块内容到剪贴板

8. **验证 Provider**
   - 使用 "VSChat: 验证 LLM Provider" 命令
   - 选择要验证的提供商
   - 查看验证结果

## 快捷键

- `Ctrl+Alt+T` (Mac: `Cmd+Alt+T`): 切换当前聊天块状态
- `Ctrl+Alt+Enter` (Mac: `Cmd+Alt+Enter`): 插入聊天块
- 更多快捷键可在 VS Code 键盘快捷方式设置中自定义

## 已知问题

- 暂无已知问题

## 更新日志

### 0.0.1

- 初始版本发布
- 支持基本的聊天功能
- 支持多个 LLM Provider
- 实现 API Key 安全管理
- 添加思维链提取和展示功能
- 添加注释和归档功能
- 优化大纲视图（仅显示有标题的块）
- 添加块操作菜单（切换状态、设置标题、复制内容）

### 0.0.2

 - 真正支持了思维链提取，自适应tag风和独立字段

### 0.0.3

- 增强 `insertDefaultProviderTemplate` 命令，支持 AI 供应商配置模板和文本处理规则配置模板的生成。
- 添加文本处理功能，支持通过正则表达式自动提取和处理 AI 返回的内容。
- 新增 `getTemplateRules` 方法到 `TextProcessingConfig` 类，提供预设正则表达式规则示例。
- 创建 `docs/regex-extraction-guide.md` 文档，详细说明正则表达式提取功能的配置和使用。

## 故事

VS Chat 是一个全手动ai chat客户端，指望用户用尽可能快的手代替庞大的自动化功能集团。
当然我们不排斥自动化，自动解析还是有必要的

对比 SillyTavern 这样的全功能客户端：
- 目前只做得到纯文本聊天，在不显著变重的情况下估计就这样了
- 试图用高效的手动操作把边缘问题解决
- 鼓励对模型进行不适合自动化的使用

（要是作者习惯使用 Vim，这个就是 Vim 插件了）

## 贡献

99%AI生成，作者希望锻炼自己讲故事的能力

## 许可证

[MIT](LICENSE)
